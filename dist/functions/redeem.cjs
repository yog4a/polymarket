"use strict";var m=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var F=Object.prototype.hasOwnProperty;var s=(a,e)=>m(a,"name",{value:e,configurable:!0});var N=(a,e)=>{for(var n in e)m(a,n,{get:e[n],enumerable:!0})},B=(a,e,n,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of D(e))!F.call(a,i)&&i!==n&&m(a,i,{get:()=>e[i],enumerable:!(t=k(e,i))||t.enumerable});return a};var G=a=>B(m({},"__esModule",{value:!0}),a);var Y={};N(Y,{redeemPositions:()=>L});module.exports=G(Y);var _="0x2791bca1f2de4661ed88a30c99a7a9449aa84174",I="0x4D97DCd97eC945f40cF65F87097ACe5EA0476045",C="0xd91E80cF2E7be2e162c6513ceD06f1dD0dA35296";var p=require("viem");var b=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"approvedHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"ApproveHash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"handler",type:"address"}],name:"ChangedFallbackHandler",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"guard",type:"address"}],name:"ChangedGuard",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"SafeModuleTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{indexed:!1,internalType:"uint256",name:"safeTxGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"gasPrice",type:"uint256"},{indexed:!1,internalType:"address",name:"gasToken",type:"address"},{indexed:!1,internalType:"address payable",name:"refundReceiver",type:"address"},{indexed:!1,internalType:"bytes",name:"signatures",type:"bytes"},{indexed:!1,internalType:"bytes",name:"additionalInfo",type:"bytes"}],name:"SafeMultiSigTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SafeReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"initiator",type:"address"},{indexed:!1,internalType:"address[]",name:"owners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"},{indexed:!1,internalType:"address",name:"initializer",type:"address"},{indexed:!1,internalType:"address",name:"fallbackHandler",type:"address"}],name:"SafeSetup",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{stateMutability:"nonpayable",type:"fallback"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"},{internalType:"uint256",name:"requiredSignatures",type:"uint256"}],name:"checkNSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"checkSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevModule",type:"address"},{internalType:"address",name:"module",type:"address"}],name:"disableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"enableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address payable",name:"refundReceiver",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModuleReturnData",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"start",type:"address"},{internalType:"uint256",name:"pageSize",type:"uint256"}],name:"getModulesPaginated",outputs:[{internalType:"address[]",name:"array",type:"address[]"},{internalType:"address",name:"next",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"offset",type:"uint256"},{internalType:"uint256",name:"length",type:"uint256"}],name:"getStorageAt",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"isModuleEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"handler",type:"address"}],name:"setFallbackHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guard",type:"address"}],name:"setGuard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"signedMessages",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"oldOwner",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];var c=[{constant:!0,inputs:[{name:"owner",type:"address"},{name:"id",type:"uint256"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"},{name:"",type:"uint256"}],name:"payoutNumerators",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"ids",type:"uint256[]"},{name:"values",type:"uint256[]"},{name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owners",type:"address[]"},{name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"payoutDenominator",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"conditionId",type:"bytes32"},{indexed:!0,name:"oracle",type:"address"},{indexed:!0,name:"questionId",type:"bytes32"},{indexed:!1,name:"outcomeSlotCount",type:"uint256"}],name:"ConditionPreparation",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"conditionId",type:"bytes32"},{indexed:!0,name:"oracle",type:"address"},{indexed:!0,name:"questionId",type:"bytes32"},{indexed:!1,name:"outcomeSlotCount",type:"uint256"},{indexed:!1,name:"payoutNumerators",type:"uint256[]"}],name:"ConditionResolution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"stakeholder",type:"address"},{indexed:!1,name:"collateralToken",type:"address"},{indexed:!0,name:"parentCollectionId",type:"bytes32"},{indexed:!0,name:"conditionId",type:"bytes32"},{indexed:!1,name:"partition",type:"uint256[]"},{indexed:!1,name:"amount",type:"uint256"}],name:"PositionSplit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"stakeholder",type:"address"},{indexed:!1,name:"collateralToken",type:"address"},{indexed:!0,name:"parentCollectionId",type:"bytes32"},{indexed:!0,name:"conditionId",type:"bytes32"},{indexed:!1,name:"partition",type:"uint256[]"},{indexed:!1,name:"amount",type:"uint256"}],name:"PositionsMerge",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"redeemer",type:"address"},{indexed:!0,name:"collateralToken",type:"address"},{indexed:!0,name:"parentCollectionId",type:"bytes32"},{indexed:!1,name:"conditionId",type:"bytes32"},{indexed:!1,name:"indexSets",type:"uint256[]"},{indexed:!1,name:"payout",type:"uint256"}],name:"PayoutRedemption",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"id",type:"uint256"},{indexed:!1,name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"operator",type:"address"},{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"ids",type:"uint256[]"},{indexed:!1,name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"value",type:"string"},{indexed:!0,name:"id",type:"uint256"}],name:"URI",type:"event"},{constant:!1,inputs:[{name:"oracle",type:"address"},{name:"questionId",type:"bytes32"},{name:"outcomeSlotCount",type:"uint256"}],name:"prepareCondition",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"questionId",type:"bytes32"},{name:"payouts",type:"uint256[]"}],name:"reportPayouts",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"collateralToken",type:"address"},{name:"parentCollectionId",type:"bytes32"},{name:"conditionId",type:"bytes32"},{name:"partition",type:"uint256[]"},{name:"amount",type:"uint256"}],name:"splitPosition",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"collateralToken",type:"address"},{name:"parentCollectionId",type:"bytes32"},{name:"conditionId",type:"bytes32"},{name:"partition",type:"uint256[]"},{name:"amount",type:"uint256"}],name:"mergePositions",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"collateralToken",type:"address"},{name:"parentCollectionId",type:"bytes32"},{name:"conditionId",type:"bytes32"},{name:"indexSets",type:"uint256[]"}],name:"redeemPositions",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"conditionId",type:"bytes32"}],name:"getOutcomeSlotCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"oracle",type:"address"},{name:"questionId",type:"bytes32"},{name:"outcomeSlotCount",type:"uint256"}],name:"getConditionId",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{name:"parentCollectionId",type:"bytes32"},{name:"conditionId",type:"bytes32"},{name:"indexSet",type:"uint256"}],name:"getCollectionId",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"collateralToken",type:"address"},{name:"collectionId",type:"bytes32"}],name:"getPositionId",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"pure",type:"function"}];var A=[{inputs:[{internalType:"address",name:"_ctf",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"address",name:"_vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"DeterminedFlagAlreadySet",type:"error"},{inputs:[],name:"FeeBipsOutOfBounds",type:"error"},{inputs:[],name:"IndexOutOfBounds",type:"error"},{inputs:[],name:"InvalidIndexSet",type:"error"},{inputs:[],name:"LengthMismatch",type:"error"},{inputs:[],name:"MarketAlreadyDetermined",type:"error"},{inputs:[],name:"MarketAlreadyPrepared",type:"error"},{inputs:[],name:"MarketNotPrepared",type:"error"},{inputs:[],name:"NoConvertiblePositions",type:"error"},{inputs:[],name:"NotAdmin",type:"error"},{inputs:[],name:"NotApprovedForAll",type:"error"},{inputs:[],name:"OnlyOracle",type:"error"},{inputs:[],name:"UnexpectedCollateralToken",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"marketId",type:"bytes32"},{indexed:!0,internalType:"address",name:"oracle",type:"address"},{indexed:!1,internalType:"uint256",name:"feeBips",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"MarketPrepared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!0,internalType:"address",name:"newAdminAddress",type:"address"}],name:"NewAdmin",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"marketId",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"questionId",type:"bytes32"},{indexed:!1,internalType:"bool",name:"outcome",type:"bool"}],name:"OutcomeReported",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"redeemer",type:"address"},{indexed:!0,internalType:"bytes32",name:"conditionId",type:"bytes32"},{indexed:!1,internalType:"uint256[]",name:"amounts",type:"uint256[]"},{indexed:!1,internalType:"uint256",name:"payout",type:"uint256"}],name:"PayoutRedemption",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"stakeholder",type:"address"},{indexed:!0,internalType:"bytes32",name:"conditionId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PositionSplit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"stakeholder",type:"address"},{indexed:!0,internalType:"bytes32",name:"marketId",type:"bytes32"},{indexed:!0,internalType:"uint256",name:"indexSet",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PositionsConverted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"stakeholder",type:"address"},{indexed:!0,internalType:"bytes32",name:"conditionId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PositionsMerge",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"marketId",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"questionId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"index",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"QuestionPrepared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"admin",type:"address"},{indexed:!0,internalType:"address",name:"removedAdmin",type:"address"}],name:"RemovedAdmin",type:"event"},{inputs:[],name:"FEE_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"NO_TOKEN_BURN_ADDRESS",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"admin",type:"address"}],name:"addAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"admins",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256[]",name:"_ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"col",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_marketId",type:"bytes32"},{internalType:"uint256",name:"_indexSet",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"convertPositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ctf",outputs:[{internalType:"contract IConditionalTokens",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_questionId",type:"bytes32"}],name:"getConditionId",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_marketId",type:"bytes32"}],name:"getDetermined",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_marketId",type:"bytes32"}],name:"getFeeBips",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_marketId",type:"bytes32"}],name:"getMarketData",outputs:[{internalType:"MarketData",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_marketId",type:"bytes32"}],name:"getOracle",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_questionId",type:"bytes32"},{internalType:"bool",name:"_outcome",type:"bool"}],name:"getPositionId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_marketId",type:"bytes32"}],name:"getQuestionCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_marketId",type:"bytes32"}],name:"getResult",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"isAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_collateralToken",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_conditionId",type:"bytes32"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mergePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_conditionId",type:"bytes32"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mergePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_feeBips",type:"uint256"},{internalType:"bytes",name:"_metadata",type:"bytes"}],name:"prepareMarket",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_marketId",type:"bytes32"},{internalType:"bytes",name:"_metadata",type:"bytes"}],name:"prepareQuestion",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_conditionId",type:"bytes32"},{internalType:"uint256[]",name:"_amounts",type:"uint256[]"}],name:"redeemPositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"admin",type:"address"}],name:"removeAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_questionId",type:"bytes32"},{internalType:"bool",name:"_outcome",type:"bool"}],name:"reportOutcome",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_collateralToken",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_conditionId",type:"bytes32"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"splitPosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_conditionId",type:"bytes32"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"splitPosition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"wcol",outputs:[{internalType:"contract WrappedCollateral",name:"",type:"address"}],stateMutability:"view",type:"function"}];var f=class{static{s(this,"CTFEncoder")}static encodeSplit(e,n,t){return(0,p.encodeFunctionData)({abi:c,functionName:"splitPosition",args:[e,p.zeroHash,n,[1,2],t]})}static encodeMerge(e,n,t){return(0,p.encodeFunctionData)({abi:c,functionName:"mergePositions",args:[e,p.zeroHash,n,[1,2],t]})}static encodeRedeem(e,n){return(0,p.encodeFunctionData)({abi:c,functionName:"redeemPositions",args:[e,p.zeroHash,n,[1,2]]})}};var W=require("viem");var h=require("viem");var w=require("viem");var T=class{static{s(this,"NegRiskAdapterEncoder")}static encodeRedeemNegRisk(e,n){return(0,w.encodeFunctionData)({abi:A,functionName:"redeemPositions",args:[e,n]})}static encodeConvert(e,n,t){return(0,w.encodeFunctionData)({abi:A,functionName:"convertPositions",args:[e,n,t]})}};var R=require("viem");var x=require("viem");async function H(a,e){let n=await a.signMessage({message:{raw:e},account:a.account}),t=parseInt(n.slice(-2),16);if(t===0||t===1)t+=31;else if(t===27||t===28)t+=4;else throw new Error("Invalid signature");n=n.slice(0,-2)+t.toString(16);let i=(0,x.fromHex)(`0x${n.slice(2,66)}`,"bigint"),r=(0,x.fromHex)(`0x${n.slice(66,130)}`,"bigint"),y=(0,x.fromHex)(`0x${n.slice(130,132)}`,"number");return{r:i,s:r,v:y}}s(H,"signTransactionHash");var u=require("viem");var O=s(async(a,e,n,t,i)=>{i||(i={});let r=await e.readContract({address:n,abi:b,functionName:"nonce"}),y=0n,o=0n,d=0n,v=u.zeroAddress,l=u.zeroAddress,M=await e.readContract({address:n,abi:b,functionName:"getTransactionHash",args:[t.to,BigInt(t.value),t.data,t.operation,y,o,d,v,l,r]}),{r:S,s:g,v:P}=await H(a,M),E=(0,u.encodePacked)(["uint256","uint256","uint8"],[S,g,P]);return a.writeContract({chain:a.chain,account:a.account,address:n,abi:b,functionName:"execTransaction",args:[t.to,t.value,t.data,t.operation,y,o,d,v,l,E],...i})},"signAndExecuteSafeTransaction");var U=require("viem");function L(a,e){return async function({safeAddress:n,conditionId:t,negRisk:i,amounts:r},y){let o=r.map(g=>BigInt(g)),d=i?T.encodeRedeemNegRisk(t,o):f.encodeRedeem(_,t),l={to:i?C:I,data:d,operation:0,value:"0"},M=await O(a,e,n,l,y);return await e.waitForTransactionReceipt({hash:M})}}s(L,"redeemPositions");0&&(module.exports={redeemPositions});
